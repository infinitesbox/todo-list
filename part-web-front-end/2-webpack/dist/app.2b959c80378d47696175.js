(()=>{"use strict";const e=function(){function e(e){var t=this;this.element=null,this.elementInput=null,this.onEnter=null,this.element=e.element,this.elementInput=this.element.querySelector("input"),this.elementInput.addEventListener("keydown",(function(e){return t.handleOnEnter(e)})),this.onEnter=e.onEnter}return e.elementCreate=function(){var e=document.createElement("div");return e.className="input-box",e.innerHTML='\n            <div class="wrapper">\n                <input type="text">\n                <div class="icon">\n                    <i class="fa-solid fa-note-sticky"></i>\n                </div>\n            </div>\n        ',e},e.prototype.handleOnEnter=function(e){console.log(e.key,e.keyCode),13===e.keyCode&&(this.onEnter&&this.onEnter(this.elementInput.value),this.elementInput.value="")},e}();var t=function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},t.apply(this,arguments)};const n=function(){function e(e){var t=this;this.element=null,this.elementBtnDone=null,this.elementTitle=null,this.elementBtnDelete=null,this.onDone=null,this.onDelete=null,this.eventTransitionEndStatus=0,this.data={id:0,title:null},this.element=e.element,this.element.addEventListener("transitionend",(function(){return t.handleDeleteTransitionEnd()})),this.elementBtnDone=this.element.querySelector(".btn-done"),this.elementBtnDone.addEventListener("click",(function(){return t.handleOnDone()})),this.elementTitle=this.element.querySelector(".title"),this.elementBtnDelete=this.element.querySelector(".btn-delete"),this.elementBtnDelete.addEventListener("click",(function(){return t.handleOnDelete()})),this.onDone=e.onDone,this.onDelete=e.onDelete}return e.elementCreate=function(){var e=document.createElement("div");return e.className="task",e.innerHTML='\n            <button class="btn-done" type="button">\n                <i class="fa-solid fa-check"></i>\n            </button>\n            <p class="title">Test Done</p>\n            <button class="btn-delete" type="button">\n                <i class="fa-solid fa-xmark"></i>\n            </button>\n        ',e},e.prototype.update=function(e){this.data=t(t({},this.data),e),this.elementTitle.textContent=this.data.title},e.prototype.handleOnDone=function(){this.onDone&&(this.eventTransitionEndStatus=1,this.element.classList.contains("done")?(this.onDone(this.data,!1),this.element.classList.remove("done")):(this.onDone(this.data,!0),this.element.classList.add("done")))},e.prototype.handleOnDelete=function(){this.onDelete&&(this.onDelete(this.data),this.eventTransitionEndStatus=2,this.element.classList.add("deleted"))},e.prototype.handleDeleteTransitionEnd=function(){var e=this.element.parentElement;e&&2===this.eventTransitionEndStatus&&(e.removeChild(this.element),e.parentElement.removeChild(e))},e}();var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)};const s=function(){function e(e){var t=this;this.element=null,this.elementBtnPrev=null,this.elementBtnNext=null,this.onPrev=null,this.onNext=null,this.data={pagesTotal:0,pagesCurrent:0},this.element=e.element,this.elementBtnPrev=this.element.querySelector(".btn-prev"),this.elementBtnPrev.addEventListener("click",(function(){return t.handleOnPrev()})),this.elementBtnNext=this.element.querySelector(".btn-next"),this.elementBtnNext.addEventListener("click",(function(){return t.handleOnNext()})),this.onPrev=e.onPrev,this.onNext=e.onNext,this.data=i(i({},this.data),e.data),this.update()}return e.elementCreate=function(){var e=document.createElement("div");return e.className="pagination",e.innerHTML='\n            <button class="btn-prev disabled">\n                <i class="fa-solid fa-chevron-left"></i>\n            </button>\n            <button class="btn-next disabled">\n                <i class="fa-solid fa-chevron-right"></i>\n            </button>\n        ',e},e.prototype.reset=function(e){this.data=i(i({},this.data),e),this.update()},e.prototype.update=function(){this.elementBtnPrev.classList.add("disabled"),this.elementBtnNext.classList.add("disabled"),this.data.pagesCurrent>1?this.elementBtnPrev.classList.remove("disabled"):this.elementBtnPrev.classList.add("disabled"),this.data.pagesCurrent<this.data.pagesTotal?this.elementBtnNext.classList.remove("disabled"):this.elementBtnNext.classList.add("disabled")},e.prototype.handleOnPrev=function(){if(this.onPrev){var e=this.onPrev();this.data=i(i({},this.data),e),this.update()}},e.prototype.handleOnNext=function(){if(this.onNext){var e=this.onNext();this.data=i(i({},this.data),e),this.update()}},e}();new(function(){function t(t){var n=this;this.element=null,this.elementTasks=null,this.inputBox=null,this.tasks=[],this.pagination=null,this.data={tasks:[],pagination:{pagesTotal:0,pagesCurrent:0}},this.element=t.element,this.inputBox=new e({element:this.element.querySelector(".input-box"),onEnter:function(e){return n.handleInputBoxOnEnter(e)}}),this.elementTasks=this.element.querySelector(".tasks"),this.pagination=new s({element:this.element.querySelector(".pagination"),onPrev:function(){return n.handlePaginationOnPrev()},onNext:function(){return n.handlePaginationOnNext()},data:this.data.pagination})}return t.prototype.handleInputBoxOnEnter=function(e){var t=this;if(e){var i=n.elementCreate(),s=document.createElement("li");s.appendChild(i),this.elementTasks.appendChild(s);var l=new n({element:i,onDone:function(e,n){return t.handleTaskOnDone(e,n)},onDelete:function(e){return t.handleTaskOnDelete(e)}});l.update({title:e}),this.tasks.push(l),this.pagination.reset({pagesTotal:1,pagesCurrent:1})}},t.prototype.handleTaskOnDone=function(e,t){console.log("on done update server side ..."),console.log(e,t)},t.prototype.handleTaskOnDelete=function(e){console.log("on delete update server side ..."),console.log(e)},t.prototype.handlePaginationOnPrev=function(){console.log("on prev")},t.prototype.handlePaginationOnNext=function(){console.log("on next")},t}())({element:document.querySelector(".todo-list")})})();